(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(60)},45:function(e,t,n){},46:function(e,t){e.exports={blue:"#0000ff"}},60:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),i=n.n(a),s=(n(45),n(13)),l=n(20),c=n(31),d=n(22),u=n(30),h=n(21),m=(n(46),function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(s.a)(this,e),this.nodes=[],this.bits=[],this.dice=[],this.diceIndex=0;for(var a=0;a<t;a++)this.nodes[a]={stability:0,color:360*Math.random(),targets:Array.from({length:t},function(){return.1}),sum:.1*t,max:.1};for(var i=0;i<o;i++)this.dice[i]=Math.random();this.normalize=function(e){var n=0;e.max=0,e.entropy=0,e.targets.forEach(function(e){return n+=e});for(var r=0;r<t;r++)e.targets[r]=e.targets[r]/n,e.entropy+=Math.abs(Math.log1p(e.targets[r])),e.targets[r]>e.max&&(e.max=e.targets[r])},this.step=function(e){var r=n.nodes[e];r||console.error("Node not found");var o,a=n.diceIndex>=n.dice.length?Math.random():n.dice[n.diceIndex];n.diceIndex++;var i=0;for(o=0;o<t-1&&!((i+=r.targets[o])>a&&e!==o);o++);e===o&&(o=0),n.bits.push({source:e,target:o,color:r.color,complete:0})},this.bitStep=function(){n.bits=n.bits.filter(function(e){return e.complete<100});for(var e=0;e<n.bits.length;e++){var t=n.bits[e];if(t.complete+=1,100===t.complete){var o=360-Math.abs(t.color-n.nodes[t.target].color)*r;n.nodes[t.target].targets[t.source]+=o/500,n.normalize(n.nodes[t.target]);var a=(t.color-n.nodes[t.target].color)/2*Math.abs(t.color-n.nodes[t.target].color)/100;n.nodes[t.target].color=(n.nodes[t.target].color+a)%360}}}}),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={relModel:new m(e.numNodes),relIndex:0,stepTimer:null,bitTimer:null,bits:[]},n.getPosition=function(e){var t=n.props,r=t.height,o=t.width,a=t.radius,i=t.numNodes,s=o/2,l=r/2;return{x:Math.sin(2*Math.PI*e/i)*a+s,y:Math.cos(2*Math.PI*e/i)*a+l}},n.runStep=function(){var e=n.props.numNodes,t=n.state,r=t.relModel,o=t.relIndex;r.step(o),n.setState({relIndex:(o+1)%e})},n.runBits=function(){var e=n.state.relModel;e.bitStep(),n.setState({bits:e.bits})},n.restart=function(e){var t=Object(h.a)(n),r=t.runStep,o=t.runBits;clearInterval(n.state.stepTimer),clearInterval(n.state.bitTimer);var a=setInterval(r,40),i=setInterval(o,20);n.setState({relModel:new m(n.props.numNodes),stepTimer:a,bitTimer:i,relIndex:0,bits:[]})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.restart(this.props.numNodes)}},{key:"componentDidUpdate",value:function(e,t){e.numNodes!==this.props.numNodes&&this.restart(this.props.numNodes)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.stepTimer),clearInterval(this.state.bitTimer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.width,a=this.state,i=a.relModel,s=a.bits;return o.a.createElement("div",null,o.a.createElement("svg",{id:"visualization",width:r,height:n,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.nodes.map(function(t,n){var r=t.color,a=t.max,i=e.getPosition(n),s=i.x,l=i.y;return o.a.createElement("circle",{key:n,style:{fill:"hsl(".concat(r,", 100%, 50%)"),opacity:a},cx:s,cy:l,r:"10"})}),s.map(function(t,n){var r=e.getPosition(t.source),a=e.getPosition(t.target),s=i.nodes[t.source].max,l={x:r.x+(a.x-r.x)*t.complete/100,y:r.y+(a.y-r.y)*t.complete/100};return o.a.createElement("circle",{key:"bit"+n,style:{fill:"hsl(".concat(t.color,", 100%, 50%)"),opacity:s},cx:l.x,cy:l.y,r:"2"})})))}}]),t}(r.Component),v=n(78),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={numNodes:10},n.handleSlider=function(e,t){console.log(e,t),n.setState({numNodes:t})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.numNodes;return o.a.createElement("div",{className:"App",style:g.container},o.a.createElement("h1",null,"Colored Edgeless Network"),o.a.createElement("p",null,"Nodes ignore colors that are far from them on the spectrum and shift towards colors that they receive."),o.a.createElement(p,{height:"350",width:"350",numNodes:e,radius:150}),o.a.createElement("div",{style:g.sliderContainer},o.a.createElement(v.a,{className:"slider",value:e,"aria-labelledby":"Number of Nodes",onChange:this.handleSlider,min:2,max:50,step:1})))}}]),t}(r.Component),g={container:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",textAlign:"center"},sliderContainer:{width:300,margin:30}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.fbe169f9.chunk.js.map